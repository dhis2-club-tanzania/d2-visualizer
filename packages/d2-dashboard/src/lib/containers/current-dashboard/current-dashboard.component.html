<div
  class="d2-dashboard__current-dashboard-container"
  *ngIf="currentDashboard$ | async as currentDashboard"
>
  <iapps-current-dashboard-header
    [dashboard]="currentDashboard"
    (setGlobalFilter)="onSetGlobalFilter($event, currentDashboard.id)"
  ></iapps-current-dashboard-header>

  <div class="d2-dashboard__dashboard-selection-summary">
    <iapps-dashboard-selection-summary
      [dataSelections]="(globalSelection$ | async) || []"
      (removeSelection)="onSetGlobalFilter($event, currentDashboard.id)"
    ></iapps-dashboard-selection-summary>
  </div>

  <iapps-dashboard-items
    *ngIf="!loading"
    [dashboardItems]="currentDashboard?.dashboardItems || []"
    [dataSelections]="(globalSelection$ | async) || []"
    [dashboardItemsLayout]="currentDashboard?.dashboardItemsLayout || []"
  ></iapps-dashboard-items>

  <ng-container *ngIf="error"> Dashboard Error </ng-container>
</div>
