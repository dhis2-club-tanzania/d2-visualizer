<div class="d2-dashboard__visualization-container" [id]="dashboardContainerId">
  <d2-dashboard-item-header
    [fullScreen]="fullScreen"
    [isChart]="isChart"
    [visualizationType]="visualizer?.visualizationType"
    [visualizationTitle]="visualizer?.config?.title"
    (download)="onDownload($event)"
    (fullscreenChange)="onFullScreenAction()"
    (typeChange)="onTypeChange($event)"
  ></d2-dashboard-item-header>
  <div
    [id]="dashboardItem?.visualization?.id || 'visualization_id'"
    [style.height]="
      'calc(' +
      (fullScreen ? '100vh' : visualizationContainerHeight) +
      ' - 16px)'
    "
    class="d2-dashboard__visualization-content"
  ></div>

  <div
    class="d2-dashboard__visualization-loading-overlay"
    *ngIf="loading$ | async"
  >
    <mat-spinner [strokeWidth]="2" [diameter]="30"></mat-spinner>
  </div>
</div>
